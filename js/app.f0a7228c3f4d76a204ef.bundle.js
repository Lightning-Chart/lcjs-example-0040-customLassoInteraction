(self.webpackChunk=self.webpackChunk||[]).push([[524],{44(e,t,n){const s=n(377),{lightningChart:o,emptyFill:l,emptyLine:r,AutoCursorModes:a,Themes:i}=s,d=document.getElementById("chart")||document.body;d===document.body&&(d.style.width="100vw",d.style.height="100vh",d.style.margin="0px"),d.style.display="flex",d.style.flexDirection="row";const c=document.createElement("div"),m=document.createElement("div");d.append(c),d.append(m),c.style.flexGrow="1",c.style.height="100%",m.style.width="50%",m.style.height="100%",m.style.display="none";const y=o({resourcesBaseUrl:new URL(document.head.baseURI).origin+new URL(document.head.baseURI).pathname+"resources/"}),p=y.ChartXY({legend:{visible:!1},container:c,theme:i[new URLSearchParams(window.location.search).get("theme")||"darkGold"]||void 0}).setCursorMode(void 0).setTitle("Click to select points, close selection by clicking on polygon corner"),h=y.DataGrid({container:m}).setTitle("Selected samples"),u=new Array(5e3).fill(0).map((e,t)=>({id:t,x:Math.random()**2,y:Math.random()**1.5})),g=p.addPointSeries({schema:{x:{pattern:null},y:{pattern:null},size:{pattern:null}}}).appendJSON(u,void 0,{size:3}).setPointerEvents(!1);p.setUserInteractions({rectangleZoom:!1});const E=p.addPolygonSeries({automaticColorIndex:2}).setPointerEvents(!1).setCursorEnabled(!1).add([]).setFillStyle(e=>e.setA(50)),x=p.addPointSeries({schema:{x:{pattern:null},y:{pattern:null}}}).setCursorEnabled(!1);let v;p.seriesBackground.addEventListener("pointermove",e=>{if(!v||v.closed)return;const t=p.translateCoordinate(e,p.coordsAxis),n=[...v.polygon,t];E.setDimensions(n)}),p.seriesBackground.addEventListener("pointerleave",e=>{v&&!v.closed&&E.setDimensions(v.polygon)}),p.seriesBackground.addEventListener("click",e=>{const t=p.translateCoordinate(e,p.coordsAxis);!v||v.closed?(v={polygon:[t]},g.fill({size:3})):v.polygon.push(t),E.setDimensions(v.polygon),x.appendSample(t),h.removeCells()}),x.addEventListener("click",e=>{v.closed=!0,E.setDimensions(v.polygon),x.clear();const t=v.polygon,n=t.reduce((e,t)=>Math.min(e,t.x),Number.MAX_SAFE_INTEGER),s=t.reduce((e,t)=>Math.max(e,t.x),-Number.MAX_SAFE_INTEGER),o=t.reduce((e,t)=>Math.min(e,t.y),Number.MAX_SAFE_INTEGER),l=t.reduce((e,t)=>Math.max(e,t.y),-Number.MAX_SAFE_INTEGER),r=new Array(u.length),a=[["ID","X","Y"]];for(let e=0;e<u.length;e+=1){const i=u[e];let d=!1;i.x>=n&&i.x<=s&&i.y>=o&&i.y<=l&&b(i,t)&&(d=!0),r[e]=d?7:3,d&&a.push([i.id,i.x.toFixed(3),i.y.toFixed(3)])}g.alterSamplesStartingFrom(0,{size:r}),h.setTableContent(a),m.style.display="block"});const b=(e,t)=>{const n=e.x,s=e.y;let o=!1;for(let e=0,l=t.length-1;e<t.length;l=e++){const r=t[e].x,a=t[e].y,i=t[l].x,d=t[l].y;a>s!=d>s&&n<(i-r)*(s-a)/(d-a)+r&&(o=!o)}return o}}},e=>{e.O(0,[502],()=>e(e.s=44)),e.O()}]);